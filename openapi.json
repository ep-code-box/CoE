{"openapi":"3.1.0","info":{"title":"CoE Backend API","description":"CoE LangGraph Agent and API Server","version":"1.0.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"서비스 상태 확인","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/test":{"post":{"tags":["test"],"summary":"Test Endpoint","description":"간단한 테스트 엔드포인트","operationId":"test_endpoint_test_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/models":{"get":{"summary":"List Models","description":"models.json에 정의된 사용 가능한 모든 모델의 목록을 반환합니다.\nOpenAI의 /v1/models 엔드포인트와 호환되는 형식입니다.","operationId":"list_models_v1_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/flows/save":{"post":{"summary":"Save Flow","description":"LangFlow JSON을 데이터베이스에 저장합니다.","operationId":"save_flow_flows_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveFlowRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/flows/list":{"get":{"summary":"List Flows","description":"저장된 LangFlow 목록을 데이터베이스에서 반환합니다.","operationId":"list_flows_flows_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlowListResponse"}}}}}}},"/flows/{flow_name}":{"get":{"summary":"Get Flow","description":"특정 LangFlow JSON을 데이터베이스에서 반환합니다.","operationId":"get_flow_flows__flow_name__get","parameters":[{"name":"flow_name","in":"path","required":true,"schema":{"type":"string","title":"Flow Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Flow","description":"저장된 LangFlow를 데이터베이스에서 삭제합니다.","operationId":"delete_flow_flows__flow_name__delete","parameters":[{"name":"flow_name","in":"path","required":true,"schema":{"type":"string","title":"Flow Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/analyze":{"post":{"tags":["Coding Assistant"],"summary":"Analyze Code","description":"코드를 분석하여 함수, 클래스, import 등의 정보를 추출합니다.","operationId":"analyze_code_coding_assistant_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/templates":{"get":{"tags":["Coding Assistant"],"summary":"Get Templates","description":"사용 가능한 코드 템플릿 목록을 조회합니다.","operationId":"get_templates_coding_assistant_templates_get","parameters":[{"name":"template_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"템플릿 유형 (function, class, api, test 등)","title":"Template Type"},"description":"템플릿 유형 (function, class, api, test 등)"},{"name":"language","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"프로그래밍 언어","title":"Language"},"description":"프로그래밍 언어"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"검색 키워드","title":"Search"},"description":"검색 키워드"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/templates/render":{"post":{"tags":["Coding Assistant"],"summary":"Render Template","description":"템플릿을 변수로 렌더링하여 코드를 생성합니다.","operationId":"render_template_coding_assistant_templates_render_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/templates/{template_name}/variables":{"get":{"tags":["Coding Assistant"],"summary":"Get Template Variables","description":"특정 템플릿의 필수 변수 목록을 조회합니다.","operationId":"get_template_variables_coding_assistant_templates__template_name__variables_get","parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/generate":{"post":{"tags":["Coding Assistant"],"summary":"Generate Code","description":"요구사항을 바탕으로 코드를 생성합니다.","operationId":"generate_code_coding_assistant_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeGenerationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/review":{"post":{"tags":["Coding Assistant"],"summary":"Review Code","description":"코드를 리뷰하고 개선 제안을 제공합니다.","operationId":"review_code_coding_assistant_review_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeReviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/test/generate":{"post":{"tags":["Coding Assistant"],"summary":"Generate Test","description":"소스 코드에 대한 테스트 코드를 생성합니다.","operationId":"generate_test_coding_assistant_test_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestGenerationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/coding-assistant/languages":{"get":{"tags":["Coding Assistant"],"summary":"Get Supported Languages","description":"지원하는 프로그래밍 언어 목록을 조회합니다.","operationId":"get_supported_languages_coding_assistant_languages_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/vector/search":{"post":{"tags":["vector"],"summary":"Search Similar Documents","description":"유사한 문서를 검색합니다.","operationId":"search_similar_documents_vector_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vector/search_with_score":{"post":{"tags":["vector"],"summary":"Search Similar Documents With Score","description":"유사한 문서를 점수와 함께 검색합니다.","operationId":"search_similar_documents_with_score_vector_search_with_score_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorSearchWithScoreResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vector/add":{"post":{"tags":["vector"],"summary":"Add Documents","description":"문서들을 벡터 데이터베이스에 추가합니다.","operationId":"add_documents_vector_add_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDocumentsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDocumentsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vector/delete":{"delete":{"tags":["vector"],"summary":"Delete Documents","description":"문서들을 벡터 데이터베이스에서 삭제합니다.","operationId":"delete_documents_vector_delete_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteDocumentsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vector/info":{"get":{"tags":["vector"],"summary":"Get Collection Info","description":"컬렉션 정보를 반환합니다.","operationId":"get_collection_info_vector_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionInfoResponse"}}}}}}},"/v1/chat/completions":{"post":{"summary":"Chat Completions","description":"OpenAI API와 호환되는 채팅 엔드포인트입니다.\n요청된 모델 ID에 따라 CoE 에이전트를 실행하거나, 일반 LLM 호출을 프록시합니다.","operationId":"chat_completions_v1_chat_completions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenAIChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat":{"post":{"summary":"[Deprecated] Use /v1/chat/completions instead","description":"이 엔드포인트는 더 이상 사용되지 않습니다. /v1/chat/completions를 사용하세요.","operationId":"legacy_chat_endpoint_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}}},"components":{"schemas":{"AddDocumentsRequest":{"properties":{"documents":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Documents"}},"type":"object","required":["documents"],"title":"AddDocumentsRequest"},"AddDocumentsResponse":{"properties":{"document_ids":{"items":{"type":"string"},"type":"array","title":"Document Ids"},"success_count":{"type":"integer","title":"Success Count"}},"type":"object","required":["document_ids","success_count"],"title":"AddDocumentsResponse"},"ChatRequest":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages"}},"type":"object","required":["messages"],"title":"ChatRequest"},"ChatResponse":{"properties":{"messages":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Messages"}},"type":"object","required":["messages"],"title":"ChatResponse"},"CodeAnalysisRequest":{"properties":{"code":{"type":"string","title":"Code"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"}},"type":"object","required":["code"],"title":"CodeAnalysisRequest"},"CodeAnalysisResponse":{"properties":{"language":{"type":"string","title":"Language"},"functions":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Functions"},"classes":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Classes"},"imports":{"items":{"type":"string"},"type":"array","title":"Imports"},"line_stats":{"additionalProperties":{"type":"integer"},"type":"object","title":"Line Stats"}},"type":"object","required":["language","functions","classes","imports","line_stats"],"title":"CodeAnalysisResponse"},"CodeGenerationRequest":{"properties":{"requirements":{"type":"string","title":"Requirements"},"language":{"type":"string","title":"Language","default":"python"},"template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Name"},"additional_context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Additional Context"}},"type":"object","required":["requirements"],"title":"CodeGenerationRequest"},"CodeReviewRequest":{"properties":{"code":{"type":"string","title":"Code"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"focus_areas":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Focus Areas"}},"type":"object","required":["code"],"title":"CodeReviewRequest"},"CollectionInfoResponse":{"properties":{"collection_name":{"type":"string","title":"Collection Name"},"document_count":{"type":"integer","title":"Document Count"},"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["collection_name","document_count","host","port"],"title":"CollectionInfoResponse"},"DeleteDocumentsRequest":{"properties":{"ids":{"items":{"type":"string"},"type":"array","title":"Ids"}},"type":"object","required":["ids"],"title":"DeleteDocumentsRequest"},"FlowListResponse":{"properties":{"flows":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Flows"}},"type":"object","required":["flows"],"title":"FlowListResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"service":{"type":"string","title":"Service","default":"CoE-Backend"}},"type":"object","required":["status","timestamp"],"title":"HealthResponse"},"LangFlowData":{"properties":{"nodes":{"items":{"$ref":"#/components/schemas/LangFlowNode"},"type":"array","title":"Nodes"},"edges":{"items":{"$ref":"#/components/schemas/LangFlowEdge"},"type":"array","title":"Edges"},"viewport":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Viewport"}},"type":"object","required":["nodes","edges"],"title":"LangFlowData"},"LangFlowEdge":{"properties":{"id":{"type":"string","title":"Id"},"source":{"type":"string","title":"Source"},"target":{"type":"string","title":"Target"},"sourceHandle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sourcehandle"},"targetHandle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Targethandle"}},"type":"object","required":["id","source","target"],"title":"LangFlowEdge"},"LangFlowJSON":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"name":{"type":"string","title":"Name"},"id":{"type":"string","title":"Id"},"data":{"$ref":"#/components/schemas/LangFlowData"},"is_component":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Component","default":false}},"type":"object","required":["name","id","data"],"title":"LangFlowJSON"},"LangFlowNode":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type"},"position":{"additionalProperties":{"type":"number"},"type":"object","title":"Position"},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["id","type","position","data"],"title":"LangFlowNode"},"Message":{"properties":{"role":{"type":"string","enum":["system","user","assistant"],"title":"Role"},"content":{"type":"string","title":"Content"}},"type":"object","required":["role","content"],"title":"Message"},"OpenAIChatRequest":{"properties":{"model":{"type":"string","title":"Model"},"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages"},"stream":{"type":"boolean","title":"Stream","default":false},"temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Temperature","default":0.7},"max_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Tokens"}},"type":"object","required":["model","messages"],"title":"OpenAIChatRequest"},"SaveFlowRequest":{"properties":{"name":{"type":"string","title":"Name"},"flow_data":{"$ref":"#/components/schemas/LangFlowJSON"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name","flow_data"],"title":"SaveFlowRequest"},"TemplateRequest":{"properties":{"template_name":{"type":"string","title":"Template Name"},"variables":{"additionalProperties":{"type":"string"},"type":"object","title":"Variables"}},"type":"object","required":["template_name","variables"],"title":"TemplateRequest"},"TemplateResponse":{"properties":{"rendered_code":{"type":"string","title":"Rendered Code"},"template_name":{"type":"string","title":"Template Name"},"variables_used":{"additionalProperties":{"type":"string"},"type":"object","title":"Variables Used"}},"type":"object","required":["rendered_code","template_name","variables_used"],"title":"TemplateResponse"},"TestGenerationRequest":{"properties":{"source_code":{"type":"string","title":"Source Code"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"test_type":{"type":"string","title":"Test Type","default":"unit"},"test_framework":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Test Framework"}},"type":"object","required":["source_code"],"title":"TestGenerationRequest"},"TestRequest":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"TestRequest"},"TestResponse":{"properties":{"echo":{"type":"string","title":"Echo"},"received":{"type":"string","title":"Received"}},"type":"object","required":["echo","received"],"title":"TestResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VectorSearchRequest":{"properties":{"query":{"type":"string","title":"Query"},"k":{"type":"integer","title":"K","default":5},"filter_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Filter Metadata"}},"type":"object","required":["query"],"title":"VectorSearchRequest"},"VectorSearchResponse":{"properties":{"documents":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Documents"},"total_count":{"type":"integer","title":"Total Count"}},"type":"object","required":["documents","total_count"],"title":"VectorSearchResponse"},"VectorSearchWithScoreResponse":{"properties":{"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"},"total_count":{"type":"integer","title":"Total Count"}},"type":"object","required":["results","total_count"],"title":"VectorSearchWithScoreResponse"}}}}